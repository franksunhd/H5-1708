<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>测试post方法</title>
  </head>
  <body>
    <button id="item" type="button" name="button">测试post方法</button>

    <script src="./js/jquery.min.js" charset="utf-8"></script>

    <script type="text/javascript">


      $("#item").click(function(){
        //1.XML
        var xhr = new XMLHttpRequest();
        //2.
        xhr.open("post","http://127.0.0.1:8000/index",true);
        //4.
        xhr.onreadystatechange = function(){
          if(xhr.readyState===4){
            if((xhr.status>=200)&&(xhr.status<400)){
              $("<h1>成功</h1>").appendTo("body");
            }else{
              $("<h1>失败</h1>").appendTo("body");
            }
          }
        }

        //3
        //发送post数据时，按照form表单的数据格式进行发送
        //需要设置http的头部来指定要发送的数据格式
        xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
        //name=sy&age=18&score=99
        xhr.send("name=sy&age=18&score=99");
        $("<h1>send发送完毕</h1>").appendTo("body");
      });
    </script>
  </body>
</html>
